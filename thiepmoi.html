<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<meta name="author" content="Trần Hoàng Phi & Dương Thị Lương">
<title id="page-title">Thiệp mời đám cưới - Phi &amp; Lương</title>
<meta name="description" id="meta-description" content="Trân trọng kính mời bạn đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!" />
<meta name="keywords" content="Wedding, Wedding website, Website đám cưới, Thiệp mời đám cưới" />
<meta property="og:site_name" content="Trần Hoàng Phi &amp; Dương Thị Lương">
<meta property="og:type" content="website" />
<meta property="og:title" id="og-title" content="Thiệp mời đám cưới - Phi &amp; Lương" />
<meta property="og:url" id="og-url" content="thiepmoi.html" />
<meta property="og:description" id="og-description" content="Trân trọng kính mời bạn đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!" />
<meta property="og:image" content="common/imgs/Phi luong fix/MRP09730.JPG" />
<meta property="og:image:url" content="common/imgs/Phi luong fix/MRP09730.JPG" />
<meta property="og:image:secure_url" content="common/imgs/Phi luong fix/MRP09730.JPG" />
<link rel="shortcut icon" type="image/x-icon" href="../iwedding.info/favicon.ico">
<link href="templates/template7/css/libs.css?v=20251121" rel="stylesheet">
<link href="templates/template7/css/style.css?v=20251121" rel="stylesheet">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K9L0ZFE1PJ"></script>
<script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-K9L0ZFE1PJ');</script>
<script src="templates/template7/js/jquery-plugin-collection.js?v=20251121"></script>
<script>
	// Cập nhật title và meta tags ngay lập tức với tên khách mời từ URL
	(function() {
		const urlParams = new URLSearchParams(window.location.search);
		const guestName = urlParams.get('guestName') || 'Khách mời';
		
		// Cập nhật title
		const titleEl = document.getElementById('page-title');
		if (titleEl) {
			titleEl.textContent = `Kính gửi ${guestName} ! - Thiệp mời đám cưới online`;
		} else {
			document.title = `Kính gửi ${guestName} ! - Thiệp mời đám cưới online`;
		}
		
		// Cập nhật meta description
		const metaDesc = document.getElementById('meta-description');
		if (metaDesc) {
			metaDesc.setAttribute('content', `Trân trọng kính mời ${guestName} đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!`);
		}
		
		// Cập nhật og:title
		const ogTitle = document.getElementById('og-title');
		if (ogTitle) {
			ogTitle.setAttribute('content', `Kính gửi ${guestName} ! - Thiệp mời đám cưới online`);
		}
		
		// Cập nhật og:description
		const ogDesc = document.getElementById('og-description');
		if (ogDesc) {
			ogDesc.setAttribute('content', `Trân trọng kính mời ${guestName} đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!`);
		}
		
		// Cập nhật og:url với guest_name
		const ogUrl = document.getElementById('og-url');
		if (ogUrl) {
			const currentUrl = window.location.href;
			ogUrl.setAttribute('content', currentUrl);
		}
	})();
</script>
</head>
<body style="margin:0;padding:0;height:100vh;overflow:hidden;">
<style>
	* { box-sizing: border-box; }
	html, body { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; }
	.h-100 { height: 100%; }
	.overflow-auto { overflow: auto; }
	.modal-backdrop {z-index: 100010 !important;}
	.modal{z-index: 100011 !important;}
	.modal-dialog {padding: 1rem !important;}
	.tg-backdrop-animate {cursor: pointer;}
	.tg-backdrop.rounded-pill {border-radius: 50px !important;}
	.tg-backdrop {
		-moz-box-shadow: rgba(33, 33, 33, .8) 0 0 1px 2px, rgba(33, 33, 33, .8) 0 0 0 200vh;
		-webkit-box-shadow: rgba(33, 33, 33, .8) 0 0 1px 2px, rgba(33, 33, 33, .8) 0 0 0 200vh;
		box-shadow: rgba(33, 33, 33, .8) 0 0 1px 2px, rgba(33, 33, 33, .8) 0 0 0 200vh;
	}
	.tg-dialog .tg-dialog-header .tg-dialog-title {text-transform: uppercase;}
	.tg-dialog .tg-dialog-header {align-items: start;}
	.tg-dialog .tg-dialog-footer button.tg-dialog-btn {padding: 5px 10px;border: 2px solid #212529;color: #fff;border-radius: 4px;font-weight: 500;font-size: .82rem;white-space: nowrap;background: #212529;min-width: 100px;}
	.tg-dialog .tg-dialog-footer button.tg-dialog-btn:hover {color: #fff;border: 2px solid #383b40;outline: none;box-shadow: none;background: #383b40;}
	div:where(.swal2-container) div:where(.swal2-popup) {max-width: 90%;}
	body.swal2-height-auto {height: 100% !important;}
</style>
<script>
	// Redirect to homepage
	window.location.href = 'index.html';
</script><div id="rsvpModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Xác nhận tham dự</h2>
		</div>
		<div class="modal-body">
			 <form id="updateGuestForm" method="post">
				<div class="row">
					<input type="hidden" id="event_id" name="event_id" value="6923f529bcbb80fc4507096c" >
					<input type="hidden" id="guest_id" name="guest_id" value="6924602f2a22e4b99802c7c8" >
											<div class="col-sm-6 col-12" style="margin-bottom: 10px;">
							<select class="form-select" name="attendance_status" id="attendance_status_id" style="margin-top: 4px;">
								<option value="">Bạn sẽ tham gia chứ?</option>
																	<option value="1" selected>Tôi sẽ tham gia</option>
																	<option value="0" >Chưa xác định trước được</option>
																	<option value="2" >Tôi không Tham gia được</option>
															</select>
						</div>
											<div class="col-sm-6 col-12" style="margin-bottom: 10px;">
							<select class="form-select" name="attendance_status" id="plus_ones_id" style="margin-top: 4px;">
								<option value="">Bạn có người đi cùng không?</option>
																	<option value="0" selected>Đi một mình</option>
																	<option value="1" >Đi cùng 1 người</option>
																	<option value="2" >Đi cùng 2 người</option>
																	<option value="3" >Đi cùng 3 người</option>
																	<option value="4" >Đi cùng 4 người</option>
																	<option value="5" >Đi cùng 5 người</option>
															</select>
						</div>
										
					<div class="row-guest-questions">
											</div>
				</div>
				<div class="message-success" style="display: none;">
					<div class="form-message form-message-success">
						<svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="ng-scope"><title>F28A5059-2988-42E8-A07D-911419DD80B1</title><desc>Created with sketchtool.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Guest-List---Add-Inline-Dialogs" transform="translate(-730.000000, -252.000000)" fill="#78CC61"><g id="dialog" transform="translate(690.000000, 216.000000)"><g id="message" transform="translate(40.000000, 26.000000)"><path d="M8.5,10 C3.80553623,10 0,13.8055362 0,18.5 C0,23.1944638 3.80553623,27 8.5,27 C13.1944638,27 17,23.1944638 17,18.5 C17,13.8055362 13.1944638,10 8.5,10 Z M12.5538841,14.7117101 L13.5931014,15.7627536 C11.2406957,18.1151594 8.88878261,20.4670725 6.53686957,22.8194783 C5.50307246,21.7625217 4.45202899,20.7233043 3.40689855,19.6781739 L4.44611594,18.6384638 L6.53686957,20.7287246 L12.5538841,14.7117101 Z" id="icon-green-success"></path></g></g></g></g></svg>
						<span style="margin-left: 5px;"></span>
					</div>
				</div>
				<div class="message-error text-danger" style="display: none;color:red;">
					<div class="form-message form-message-error">
						<svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="ng-scope"><title>Page 1</title><desc></desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-6" transform="translate(0.000000, -2.000000)" fill="#71D9BC"><path d="M8.5,2 C3.79641481,2 0,5.79641481 0,10.5 C0,15.2035852 3.79641481,19 8.5,19 C13.2035852,19 17,15.2035852 17,10.5 C17,5.79641481 13.2035852,2 8.5,2 L8.5,2 Z M10,15.165872 C10,15.6130558 9.60377883,16 9.14587385,16 L7.854404,16 C7.39622117,16 7,15.6130558 7,15.165872 L7,9.83439935 C7,9.36577897 7.39622117,9 7.854404,9 L9.14587385,9 C9.60377883,9 10,9.38694422 10,9.83439935 L10,15.165872 Z M8.49124329,8 C7.67497633,8 7,7.32894118 7,6.5 C7,5.67082353 7.67497633,5 8.49124329,5 C9.32502367,5 10,5.67082353 10,6.5 C10,7.32894118 9.32502367,8 8.49124329,8 L8.49124329,8 Z" id="Page-1"></path></g></g></svg>
						<span style="margin-left: 5px;"></span>
					</div>
				</div>

				<div class="action-btns">
					<button class="btn btn-dark btn-dark-1">Gửi phản hồi</button>

										<button type="button" class="btn btn-dark btn-dark-1 close">Bỏ qua</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div id="donate-modal" class="donate-modal modal">
	<div class="donate-modal-content modal-content">
		<div class="donate-modal-header modal-header">
			<strong>
				<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-coin" viewBox="0 0 16 16">
					<path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9H5.5zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518l.087.02z"/>
					<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
					<path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11zm0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"/>
				</svg> 
				<span>Hộp mừng cưới</span>
			</strong>
		</div>
		<div class="donate-modal-body modal-body">
			<div class="donate-box">
											</div>
		</div>
	</div>
</div>
<div class="footer" style="display: none;">
	<div class="container">
		<div class="invitation-button">
						<button class="btn btn-dark" id="btn-rsvp">Xác nhận tham dự</button>
						<a class="a-bii-small-logo" href="index.html"><img class="bii-small-logo" src="common/imgs/bii.png" /></a>
			<a class="btn btn-dark" id="btn-website-info" href="index.html">Thông tin cưới</a>
		</div>
	</div>
</div>
<script type="text/javascript">
	// Đọc thông tin từ URL parameters
	const urlParams = new URLSearchParams(window.location.search);
	const guestName = urlParams.get('guestName') || 'Khách mời';
	const guestNote = urlParams.get('guestNote') || '';
	const eventIds = urlParams.get('eventIds') ? urlParams.get('eventIds').split(',') : [];
	
	// Map event IDs sang thông tin sự kiện
	const EVENTS_MAP = {
		'event-le-an-hoi': {
			name: 'LỄ ĂN HỎI',
			date: '20/12/2025',
			time: 'Thời gian sẽ được thông báo sau',
			location: 'Tại tư gia nhà gái - Thôn 3 Mai Xá, Xã Vĩnh Trụ, Tỉnh Ninh Bình'
		},
		'event-tiec-nha-gai': {
			name: 'TIỆC ĐÃI KHÁCH NHÀ GÁI',
			date: '20/12/2025',
			time: 'Thời gian sẽ được thông báo sau',
			location: 'Tại tư gia nhà gái - Thôn 3 Mai Xá, Xã Vĩnh Trụ, Tỉnh Ninh Bình'
		},
		'event-le-thanh-hon': {
			name: 'LỄ THÀNH HÔN',
			date: '21/12/2025',
			time: 'Thời gian sẽ được thông báo sau',
			location: 'Tại tư gia nhà trai - Số 01 ngõ 62 Đường Trần Thánh Tông, Thôn Vĩnh Thịnh, Xã Vĩnh Trụ, Tỉnh Ninh Bình'
		},
		'event-tiec-nha-trai': {
			name: 'TIỆC CƯỚI NHÀ TRAI',
			date: '21/12/2025',
			time: 'Thời gian sẽ được thông báo sau',
			location: 'Tại tư gia nhà trai - Số 01 ngõ 62 Đường Trần Thánh Tông, Thôn Vĩnh Thịnh, Xã Vĩnh Trụ, Tỉnh Ninh Bình'
		}
	};
	
	// Lấy sự kiện đầu tiên làm mặc định
	const firstEvent = eventIds.length > 0 ? EVENTS_MAP[eventIds[0]] : EVENTS_MAP['event-tiec-nha-trai'];
	
	window.invitationInfo = {
		'templateID': '1',
		'groom_name': 'Trần Hoàng Phi',
		'bride_name': 'Dương Thị Lương',
		'groom_name_short': 'Hoàng Phi',
		'bride_name_short': 'Thị Lương',
		'groom_name_one': 'P',
		'bride_name_one': 'L',
		'guest_name': guestName,
		'event_name': firstEvent ? firstEvent.name : 'TIỆC CƯỚI NHÀ TRAI',
		'event_time': firstEvent ? firstEvent.time : 'Thời gian sẽ được thông báo sau',
		'event_date': firstEvent ? firstEvent.date : '21/12/2025',
		'event_date_dot': firstEvent ? firstEvent.date.replace(/\//g, '.') : '21.12.2025',
		'venue_name': firstEvent ? firstEvent.location.split(' - ')[0] : 'Tại tư gia nhà trai',
		'event_address': firstEvent ? firstEvent.location : 'Số 01 ngõ 62 Đường Trần Thánh Tông, Thôn Vĩnh Thịnh, Xã Vĩnh Trụ, Tỉnh Ninh Bình',
	};
	window.biicore = {webroot : '.', coreSite: '', webToken: ''};
</script>
<script>
	// Đợi jQuery và tourguide load xong
	(function() {
		function initTourGuide() {
			if (typeof jQuery === 'undefined' || typeof tourguide === 'undefined') {
				setTimeout(initTourGuide, 100);
				return;
			}
			
			var $ = jQuery;
			var tourGuideColor = new tourguide.TourGuideClient({
				exitOnEscape: true,
				exitOnClickOutside: true,
				dialogZ: 2000,
				backdropColor: false,
				autoScroll: false,
				showStepDots: true,
				showButtons: true,
				showStepProgress: true,
				hideNext: false,
				hidePrev: false,
				autoScrollSmooth: false,
				targetPadding: 10,
				backdropClass: 'rounded-pill',
				prevLabel: '< Trở về',
				nextLabel: 'Xem tiếp >',
				finishLabel: 'Đã hiểu',
			});

			tourGuideColor.addSteps([
				{
					content: "Click vào Button bên dưới để xác nhận tham dự sự kiện này.<br>Cảm ơn vì xác nhận của bạn giúp chúng tôi chuẩn bị tốt hơn!",
					title: "Xác nhận tham dự",
					target: "#btn-rsvp",
					order: 1,
					group: "",
				},
				{
					content: "Click vào Button bên dưới để đi đến Website đám cưới, nơi thể hiện đầy đủ thông tin cưới và gửi lời chúc tốt đẹp đến họ nhé!",
					title: "Thông tin cưới",
					target: "#btn-website-info",
					order: 2,
					group: "",
				}
			]);
			
			window.tourGuideColor = tourGuideColor;
			window.isShowIntroModal = false; // Tắt modal intro mặc định
			
			const targetElementsTourGuide = ["#btn-rsvp", "#btn-website-info"];
			$(document).on('click', '.tg-backdrop-animate', function(event) {
				const elementsAtPoint = document.elementsFromPoint(event.clientX, event.clientY);
				targetElementsTourGuide.some(selector => {
					const target = elementsAtPoint.find(el => el.matches(selector));
					if (target) {
						$('body')[0].click();
						$(selector)[0].click();
						return true;
					}
					return false;
				});
			});
		}
		initTourGuide();
	})();
</script>
</body>
</html>